const a0_0x1e5883=a0_0x3094;(function(_0x33abdb,_0xf573e3){const _0x1a915a=a0_0x3094,_0x45acd9=_0x33abdb();while(!![]){try{const _0x2d6185=-parseInt(_0x1a915a(0x147))/0x1*(parseInt(_0x1a915a(0x122))/0x2)+-parseInt(_0x1a915a(0x15c))/0x3+parseInt(_0x1a915a(0x16a))/0x4*(-parseInt(_0x1a915a(0x163))/0x5)+parseInt(_0x1a915a(0x144))/0x6*(parseInt(_0x1a915a(0x16d))/0x7)+parseInt(_0x1a915a(0x16e))/0x8+-parseInt(_0x1a915a(0x123))/0x9*(parseInt(_0x1a915a(0x152))/0xa)+parseInt(_0x1a915a(0x115))/0xb;if(_0x2d6185===_0xf573e3)break;else _0x45acd9['push'](_0x45acd9['shift']());}catch(_0x2c5048){_0x45acd9['push'](_0x45acd9['shift']());}}}(a0_0xc2a2,0x6e7f5));const a0_0x5cb96b=(function(){let _0x2d13ba=!![];return function(_0x1bc120,_0x5b3dc7){const _0x493a5e=_0x2d13ba?function(){const _0x3bebed=a0_0x3094;if(_0x5b3dc7){const _0x5250e6=_0x5b3dc7[_0x3bebed(0x126)](_0x1bc120,arguments);return _0x5b3dc7=null,_0x5250e6;}}:function(){};return _0x2d13ba=![],_0x493a5e;};}()),a0_0x24126b=a0_0x5cb96b(this,function(){const _0x4ea09e=a0_0x3094;return a0_0x24126b[_0x4ea09e(0x165)]()[_0x4ea09e(0x14e)](_0x4ea09e(0x11c))['toString']()['constructor'](a0_0x24126b)[_0x4ea09e(0x14e)](_0x4ea09e(0x11c));});a0_0x24126b();function a0_0xc2a2(){const _0x3b4d57=['API\x20key\x20is\x20invalid\x20or\x20expired','input_','18086739DnBIrr','axios','label','base64','recognize','substring','AudD\x20API\x20Error:\x20','(((.+)+)+)+$','No\x20music\x20detected\x20in\x20audio','https://api.audd.io/getAPICredits/','âœ…\x20Song\x20recognized:','https://api.audd.io/','No\x20results\x20found','302wLcLyz','123138aQxsNd','path','audioChannels','apply','album','mkdirSync','ðŸ“Š\x20Audio\x20size:\x20','Song\x20not\x20recognized','now','Recognition\x20failed.\x20Try\x20again\x20with\x20clearer\x20audio.','unlinkSync','Unknown\x20error','641dc9f13027dffbaa8bc6163e4d31ef','log','readFileSync','apple_music','AudD\x20API\x20Error:','result','trackName','artist','audioFrequency','spotify','Credit\x20check\x20error:','ðŸ”‘\x20Using\x20AudD\x20API\x20with\x20key:\x20','\x20bytes','Unknown\x20Label','Audio\x20processing\x20error:','ðŸŽµ\x20Starting\x20Shazam\x20recognition...','ðŸ“¡\x20AudD\x20API\x20Response:','https://api.audd.io/recognizeWithOffset/','exports','Daily\x20API\x20limit\x20reached\x20(100\x20songs/day)','status','438gxDbWZ','Shazam\x20Error:','ðŸ”\x20Searching\x20for:\x20\x22','3831ahGiNh','get','join','duration','error_code','lyrics','title','search','Search\x20error:','API\x20Response\x20Error:','results','470GaHkkZ','apple_music,spotify','length','...','response','.mp3','shazam_','split','setFfmpegPath','timecode','1918008EHjTpW','iTunes\x20fallback\x20failed:','Unknown','output','run','error_message','message','1587815IUyyjb','https://itunes.apple.com/search?term=','toString','error','map','artistName','writeFileSync','4mDVsdp','data','application/json','80157GYWQmd','1206872dSaMqE','post','https://api.audd.io/findLyrics/','end','output_','success','fluent-ffmpeg'];a0_0xc2a2=function(){return _0x3b4d57;};return a0_0xc2a2();}const axios=require(a0_0x1e5883(0x116)),fs=require('fs'),path=require(a0_0x1e5883(0x124)),ffmpeg=require(a0_0x1e5883(0x174)),ffmpegPath=require('ffmpeg-static');ffmpeg[a0_0x1e5883(0x15a)](ffmpegPath);async function recognizeSong(_0x3baddd,_0xc1b88f){const _0x164169=a0_0x1e5883;try{console['log'](_0x164169(0x13e));const _0x36110e='./temp_shazam';!fs['existsSync'](_0x36110e)&&fs[_0x164169(0x128)](_0x36110e,{'recursive':!![]});const _0x145dc5=path[_0x164169(0x149)](_0x36110e,_0x164169(0x158)+Date['now']()+_0x164169(0x157));fs[_0x164169(0x169)](_0x145dc5,_0x3baddd);const _0x166269=await recognizeWithAudD(_0x145dc5);return fs[_0x164169(0x12d)](_0x145dc5),_0x166269;}catch(_0x5a3ea5){console[_0x164169(0x166)](_0x164169(0x145),_0x5a3ea5['message']);throw _0x5a3ea5;}}async function recognizeWithAudD(_0x15d6ce){const _0x56763a=a0_0x1e5883;try{const _0x349969=_0x56763a(0x12f);console[_0x56763a(0x130)](_0x56763a(0x13a)+_0x349969[_0x56763a(0x11a)](0x0,0x8)+_0x56763a(0x155));const _0x5a2953=fs['readFileSync'](_0x15d6ce),_0xb7131f=_0x5a2953[_0x56763a(0x165)](_0x56763a(0x118));console[_0x56763a(0x130)](_0x56763a(0x129)+_0x5a2953['length']+_0x56763a(0x13b));const _0x14e021=await axios[_0x56763a(0x16f)](_0x56763a(0x120),{'api_token':_0x349969,'audio':_0xb7131f,'return':_0x56763a(0x153),'method':'recognize'},{'timeout':0x7530,'headers':{'Content-Type':_0x56763a(0x16c)}});console['log'](_0x56763a(0x13f),_0x14e021[_0x56763a(0x16b)][_0x56763a(0x143)]);if(_0x14e021['data'][_0x56763a(0x143)]===_0x56763a(0x173)&&_0x14e021['data'][_0x56763a(0x134)]){const _0x5b5afc=_0x14e021[_0x56763a(0x16b)][_0x56763a(0x134)];return console['log'](_0x56763a(0x11f),_0x5b5afc['title'],'-',_0x5b5afc[_0x56763a(0x136)]),{'success':!![],'title':_0x5b5afc[_0x56763a(0x14d)],'artist':_0x5b5afc['artist'],'album':_0x5b5afc[_0x56763a(0x127)]||'Unknown\x20Album','label':_0x5b5afc[_0x56763a(0x117)]||_0x56763a(0x13c),'releaseDate':_0x5b5afc['release_date']||_0x56763a(0x15e),'appleMusic':_0x5b5afc[_0x56763a(0x132)]||null,'spotify':_0x5b5afc[_0x56763a(0x138)]||null,'lyrics':_0x5b5afc[_0x56763a(0x14c)]||null,'timecode':_0x5b5afc[_0x56763a(0x15b)]||null};}else{if(_0x14e021[_0x56763a(0x16b)]['status']===_0x56763a(0x166))throw new Error(_0x56763a(0x11b)+(_0x14e021[_0x56763a(0x16b)]['error'][_0x56763a(0x161)]||_0x56763a(0x12e)));else throw new Error(_0x56763a(0x12a));}}catch(_0x219739){console[_0x56763a(0x166)](_0x56763a(0x133),_0x219739[_0x56763a(0x162)]);if(_0x219739['response']){console[_0x56763a(0x166)](_0x56763a(0x150),_0x219739[_0x56763a(0x156)][_0x56763a(0x16b)]);if(_0x219739[_0x56763a(0x156)]['data'][_0x56763a(0x166)]?.[_0x56763a(0x14b)]===0x385)throw new Error(_0x56763a(0x175));else{if(_0x219739['response'][_0x56763a(0x16b)][_0x56763a(0x166)]?.['error_code']===0x386)throw new Error(_0x56763a(0x142));else{if(_0x219739['response'][_0x56763a(0x16b)][_0x56763a(0x166)]?.[_0x56763a(0x14b)]===0x12c)throw new Error(_0x56763a(0x11d));}}}return{'success':![],'error':_0x219739[_0x56763a(0x162)]||_0x56763a(0x12c)};}}async function recognizeByHumming(_0x343d19){const _0x507da6=a0_0x1e5883;try{const _0x43d251='641dc9f13027dffbaa8bc6163e4d31ef',_0x14c5de=fs['readFileSync'](_0x343d19),_0x3e9579=_0x14c5de['toString'](_0x507da6(0x118)),_0x4c910c=await axios['post'](_0x507da6(0x140),{'api_token':_0x43d251,'audio':_0x3e9579,'return':_0x507da6(0x153),'method':_0x507da6(0x119)});return _0x4c910c[_0x507da6(0x16b)];}catch(_0x5d15f7){throw _0x5d15f7;}}async function processWhatsAppAudio(_0x4fbf20,_0x19ceed){const _0x484d2b=a0_0x1e5883;try{const _0x1541f5='./temp_audio';!fs['existsSync'](_0x1541f5)&&fs[_0x484d2b(0x128)](_0x1541f5,{'recursive':!![]});const _0x138a6a=path['join'](_0x1541f5,_0x484d2b(0x114)+Date['now']()+'.'+(_0x19ceed[_0x484d2b(0x159)]('/')[0x1]||'ogg'));fs[_0x484d2b(0x169)](_0x138a6a,_0x4fbf20);const _0x19daae=path[_0x484d2b(0x149)](_0x1541f5,_0x484d2b(0x172)+Date[_0x484d2b(0x12b)]()+'.mp3');await new Promise((_0x34cee7,_0x563a6f)=>{const _0x17d64b=_0x484d2b;ffmpeg(_0x138a6a)['audioCodec']('libmp3lame')['audioBitrate'](0x80)[_0x17d64b(0x125)](0x2)[_0x17d64b(0x137)](0xac44)[_0x17d64b(0x14a)](0x1e)[_0x17d64b(0x15f)](_0x19daae)['on'](_0x17d64b(0x171),()=>{const _0x2d34bf=_0x17d64b;console[_0x2d34bf(0x130)]('âœ…\x20Audio\x20processed\x20successfully'),_0x34cee7();})['on'](_0x17d64b(0x166),_0x42c045=>{const _0x5d7497=_0x17d64b;console[_0x5d7497(0x166)]('FFmpeg\x20error:',_0x42c045),_0x563a6f(_0x42c045);})[_0x17d64b(0x160)]();});const _0x532aa0=fs[_0x484d2b(0x131)](_0x19daae);return fs[_0x484d2b(0x12d)](_0x138a6a),fs[_0x484d2b(0x12d)](_0x19daae),_0x532aa0;}catch(_0x5615ed){console[_0x484d2b(0x166)](_0x484d2b(0x13d),_0x5615ed);throw _0x5615ed;}}async function searchSongByName(_0x41fe62){const _0x2f7c57=a0_0x1e5883;try{const _0x319ac2=_0x2f7c57(0x12f);console[_0x2f7c57(0x130)](_0x2f7c57(0x146)+_0x41fe62+'\x22');const _0x5dec0f=await axios[_0x2f7c57(0x148)](_0x2f7c57(0x170),{'params':{'api_token':_0x319ac2,'q':_0x41fe62,'limit':0x3},'timeout':0x2710});if(_0x5dec0f[_0x2f7c57(0x16b)][_0x2f7c57(0x134)]&&_0x5dec0f[_0x2f7c57(0x16b)][_0x2f7c57(0x134)]['length']>0x0)return console[_0x2f7c57(0x130)]('âœ…\x20Found\x20'+_0x5dec0f[_0x2f7c57(0x16b)][_0x2f7c57(0x134)][_0x2f7c57(0x154)]+'\x20results'),_0x5dec0f['data'];else throw new Error(_0x2f7c57(0x121));}catch(_0x5569e9){console[_0x2f7c57(0x166)](_0x2f7c57(0x14f),_0x5569e9[_0x2f7c57(0x162)]);try{const _0x3eab1=await axios[_0x2f7c57(0x148)](_0x2f7c57(0x164)+encodeURIComponent(_0x41fe62)+'&entity=song&limit=5');if(_0x3eab1[_0x2f7c57(0x16b)][_0x2f7c57(0x151)][_0x2f7c57(0x154)]>0x0)return{'result':_0x3eab1[_0x2f7c57(0x16b)][_0x2f7c57(0x151)][_0x2f7c57(0x167)](_0x35d295=>({'title':_0x35d295[_0x2f7c57(0x135)],'artist':_0x35d295[_0x2f7c57(0x168)],'album':_0x35d295['collectionName'],'release_date':_0x35d295['releaseDate']?.[_0x2f7c57(0x159)]('T')[0x0],'preview_url':_0x35d295['previewUrl']}))};}catch(_0x4d07dc){console['error'](_0x2f7c57(0x15d),_0x4d07dc[_0x2f7c57(0x162)]);}throw _0x5569e9;}}async function getAPICredits(){const _0x3c7d09=a0_0x1e5883;try{const _0x52a281=_0x3c7d09(0x12f),_0x579da5=await axios[_0x3c7d09(0x148)](_0x3c7d09(0x11e),{'params':{'api_token':_0x52a281}});return _0x579da5[_0x3c7d09(0x16b)];}catch(_0x32d6c9){return console[_0x3c7d09(0x166)](_0x3c7d09(0x139),_0x32d6c9),{'credits':_0x3c7d09(0x15e),'limit':_0x3c7d09(0x15e)};}}function a0_0x3094(_0x30bf2c,_0x20d300){_0x30bf2c=_0x30bf2c-0x114;const _0x18308b=a0_0xc2a2();let _0x24126b=_0x18308b[_0x30bf2c];return _0x24126b;}module[a0_0x1e5883(0x141)]={'recognizeSong':recognizeSong,'processWhatsAppAudio':processWhatsAppAudio,'searchSongByName':searchSongByName,'getAPICredits':getAPICredits,'recognizeByHumming':recognizeByHumming};